---
import type { ProjectProps } from '@/lib/types';

const { project } = Astro.props as { project: ProjectProps };
const { index } = Astro.props;
---

<div
  class="project [&:not(:last-child)]:mb-12 md:[&:not(:last-child)]:mb-4"
  data-category={project.category}
>
  <div class="project-card group relative rounded-md bg-[orange]">
    <a href={`project/${project.slug}`} class="inline h-full">
      <div
        class="absolute left-0 top-0 h-full w-full rounded-md bg-black opacity-40 transition-colors duration-500 group-hover:bg-transparent"
      >
      </div>

      <img
        class="h-full rounded-md object-cover align-middle"
        src={project.image}
        alt={project.alt}
      />

      <p
        class="text-stroke absolute bottom-[0rem] left-2 text-[3rem] font-900 md:bottom-[-0.5rem] md:text-[4rem]"
      >
        0{index + 1}
      </p>
    </a>
  </div>

  <div class="mt-4">
    <h3 class="text-500 font-800">{project.name}</h3>

    <span
      class="relative inline-block transition-all duration-500 after:absolute after:bottom-[-.3rem] after:left-0 after:h-1 after:w-full after:origin-left after:scale-0 after:rounded after:bg-primary after:transition-all after:duration-500 hover:text-primary hover:after:scale-100"
    >
      <a
        class="text-[.9rem] font-500 uppercase tracking-[.1rem]"
        href={`/project/${project.slug}`}
      >
        View Project
      </a>
      <i class="fa-solid fa-arrow-right text-[.9rem]"></i>
    </span>
  </div>

  <style>
    .text-stroke {
      -webkit-text-fill-color: transparent;
      -webkit-text-stroke: 3px theme('colors.white');
      transition: all 0.3s ease;
    }

    .project-card:hover .text-stroke {
      -webkit-text-stroke: 3px theme('colors.primary.DEFAULT');
    }
  </style>
</div>
